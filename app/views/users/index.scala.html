@(currentUser: User, users: java.util.List[User], permissions:java.util.List[String])

@main("Users", sidebars.standard(currentUser), "", currentUser) {

    <div class="row-fluid">
        <h2><i class="icon icon-user"></i> User accounts</h2>
        <table class="table table-striped table-hover table-condensed">
            <thead>
                <tr>
                    <td>Name</td>
                    <td>User Id</td>
                    <td>Email Address</td>
                    <td>Permissions</td>
                    <td></td>
                </tr>
            </thead>
            <tbody>
            @for(user <- users.sortBy(_.getFullName)) {
                <tr class="@{
                    if(user.getName.equals(currentUser.getName)) "info" else ""
                }">
                    <td>@user.getFullName</td>
                    <td>@user.getName</td>
                    <td>@user.getEmail</td>
                    <td>
                    @for(permission <- user.getPermissions) {
                        <span class="label label-inverse">@permission</span>
                    }
                    </td>
                    <td>
                        <div class="pull-right">
                            <button id="edit-user" class="btn btn-mini" data-username="@user.getName" title="Edit"><i class="icon-edit icon-large"></i></button>
                        </div>
                    </td>
                </tr>
            }
            </tbody>
        </table>
    </div>

    <div class="row-fluid">
        <div class="pull-right">
            <button id="create-user-btn" class="btn btn-success">Create new account.</button>
        </div>
    </div>

    <!-- create user modal dialog -->
    <div id="create-user-dialog" class="modal hide fade">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
            <h2>
                <i class="icon-signin"></i>
                Create a new account
            </h2>
        </div>
        <form action="/system/user" method="POST">
            <div class="modal-body">
                <fieldset>
                    <label for="username">Username</label>
                    <span class="help-block">Select a unique user name used to log in with.</span>
                    <input id="username" type="text" required/>

                    <label for="fullname">Full Name</label>
                    <span class="help-block">Give a descriptive name for this account, e.g. the full name.</span>
                    <input id="fullname" type="text" required/>

                    <label for="email">Email Address</label>
                    <span class="help-block">Give the contact email address.</span>
                    <input id="email" type="text" required />

                    <label for="permissions">Permissions</label>
                    <span class="help-block">Choose the permissions granted to the account.</span>
                    <select data-placeholder="Choose permissions..." multiple class="permission-select">
                        @for(permission <- permissions) {
                            <option>@permission</option>
                        }
                    </select>
                </fieldset>
            </div>
            <div class="modal-footer">
                <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
                <button type="submit" class="btn btn-primary create-user">
                    <i class="icon icon-rocket"></i>
                    Create
                </button>
            </div>
        </form>
    </div>
}