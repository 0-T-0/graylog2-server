@(extractor: org.graylog2.restclient.models.Extractor = null)

@split_by_value = @{
    if(extractor == null) {
        ""
    } else {
        extractor.getExtractorConfig.get("split_by")
    }
}

@index_value = @{
    if(extractor == null) {
        0
    } else {
        extractor.getExtractorConfig.get("index")
    }
}

<input type="hidden" name="extractor_type" value="split_and_index" />

<div class="control-group">
    <label for="split_by">Split by:</label>
    <div class="controls">
        <input name="split_by" id="split_by" type="text" class="input-small" value="@split_by_value" required />
        <span class="help-block">
            What character to split on. <strong>Example:</strong> A whitespace character will
            split <em>foo bar baz</em> to <em>[foo,bar,baz]</em>.
        </span>
    </div>
</div>

<div class="control-group">
    <label for="index">Target index:</label>
    <div class="controls">
        <input name="index" id="index" type="number" class="input-small" value="@index_value" required />
        <span class="help-block">
            What part of the split string to you want to use?
            <strong>Example:</strong> <em>2</em> selects <em>bar</em>
            from <em>foo bar baz</em> when split by whitespace.
        </span>
    </div>
</div>

<div class="control-group">
    <div class="controls">
        <button class="btn btn-info xtrc-try-splitandindex" type="button">Try!</button>
    </div>
</div>